{"openapi":"3.0.0","paths":{"/users/me":{"get":{"operationId":"UsersController_getMe","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"],"security":[{"Authorization":[]}]}},"/users":{"get":{"operationId":"UsersController_findAll","parameters":[{"name":"orderBy","required":false,"in":"query","schema":{"enum":["default","giftCount"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"]}},"/gifts/buy":{"post":{"operationId":"GiftsController_buy","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyGiftDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Gift"}}}},"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceCreatedDto"}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/gifts/send":{"post":{"operationId":"GiftsController_send","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyGiftDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Gift"}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/gifts":{"get":{"operationId":"GiftsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Gift"}}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/gifts/{id}":{"get":{"operationId":"GiftsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Gift"}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/actions":{"post":{"operationId":"ActionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateActionDto"}}}},"responses":{"201":{"description":""}},"tags":["actions"]},"get":{"operationId":"ActionsController_findAll","parameters":[],"responses":{"200":{"description":""}},"tags":["actions"]}},"/actions/{id}":{"get":{"operationId":"ActionsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["actions"]}},"/transactions":{"post":{"operationId":"TransactionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionDto"}}}},"responses":{"201":{"description":""}},"tags":["transactions"]},"get":{"operationId":"TransactionsController_findAll","parameters":[],"responses":{"200":{"description":""}},"tags":["transactions"]}},"/transactions/{id}":{"get":{"operationId":"TransactionsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["transactions"]}}},"info":{"title":"Gift App","description":"Crypto Gift App contest","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"Authorization":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Gift":{"type":"object","properties":{"name":{"type":"string"},"variant":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"currency":{"type":"string"},"availability":{"type":"number","default":0},"totalIssued":{"type":"number","default":0},"imageUrl":{"type":"string"},"animationUrl":{"type":"string"}},"required":["name","variant","price","currency","availability","totalIssued","imageUrl","animationUrl"]},"User":{"type":"object","properties":{"telegramId":{"type":"number"},"fullName":{"type":"string"},"username":{"type":"string"},"language":{"type":"string"},"profilePhoto":{"type":"string"},"gifts":{"type":"array","items":{"$ref":"#/components/schemas/Gift"}}},"required":["telegramId","fullName"]},"BuyGiftDto":{"type":"object","properties":{"gift":{"type":"string"}},"required":["gift"]},"InvoiceCreatedDto":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"]},"CreateActionDto":{"type":"object","properties":{"user":{"type":"string"},"gift":{"type":"string"},"recipient":{"type":"string"},"actionType":{"type":"string"}},"required":["user","gift","actionType"]},"CreateTransactionDto":{"type":"object","properties":{"user":{"type":"string","description":"User ID"},"transactionType":{"type":"string","enum":["send","buy","receive"],"description":"Transaction type"},"amount":{"type":"number","description":"Transaction Amount"}},"required":["user","transactionType","amount"]}}}}