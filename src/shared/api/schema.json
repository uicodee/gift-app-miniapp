{"openapi":"3.0.0","paths":{"/users/me":{"get":{"operationId":"UsersController_getMe","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"],"security":[{"Authorization":[]}]}},"/users":{"get":{"operationId":"UsersController_findAll","parameters":[{"name":"orderBy","required":false,"in":"query","schema":{"enum":["default","giftCount"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"]}},"/gifts/buy":{"post":{"operationId":"GiftsController_buy","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyGiftDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceCreatedDto"}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/gifts/send":{"post":{"operationId":"GiftsController_send","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyGiftDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Gift"}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/gifts":{"get":{"operationId":"GiftsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Gift"}}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/gifts/{id}":{"get":{"operationId":"GiftsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Gift"}}}}},"tags":["gifts"],"security":[{"Authorization":[]}]}},"/actions":{"post":{"operationId":"ActionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateActionDto"}}}},"responses":{"201":{"description":""}},"tags":["actions"]}},"/actions/{giftId}":{"get":{"operationId":"ActionsController_findGiftAll","parameters":[{"name":"giftId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Action"}}}}}},"tags":["actions"]}},"/actions/{id}":{"get":{"operationId":"ActionsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["actions"]}},"/transactions":{"post":{"operationId":"TransactionsController_create","parameters":[],"responses":{"201":{"description":""}},"tags":["transactions"]}},"/invoice":{"post":{"operationId":"InvoiceController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInvoiceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceCreatedDto"}}}}},"tags":["invoice"]}}},"info":{"title":"Gift App","description":"Crypto Gift App contest","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"Authorization":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Gift":{"type":"object","properties":{"name":{"type":"string"},"variant":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"currency":{"type":"string","enum":["USDT","TON","ETH"]},"availability":{"type":"number","default":0},"totalIssued":{"type":"number","default":0},"imageUrl":{"type":"string"},"animationUrl":{"type":"string"}},"required":["name","variant","price","currency","availability","totalIssued","imageUrl","animationUrl"]},"User":{"type":"object","properties":{"telegramId":{"type":"number"},"fullName":{"type":"string"},"username":{"type":"string"},"language":{"type":"string"},"profilePhoto":{"type":"string"},"gifts":{"type":"array","items":{"$ref":"#/components/schemas/Gift"}},"purchasedGifts":{"type":"array","items":{"$ref":"#/components/schemas/Gift"}}},"required":["telegramId","fullName"]},"BuyGiftDto":{"type":"object","properties":{"gift":{"type":"string"}},"required":["gift"]},"InvoiceCreatedDto":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"]},"CreateActionDto":{"type":"object","properties":{"actionType":{"type":"string"},"gift":{"type":"string"},"user":{"type":"string"},"recipient":{"type":"string"}},"required":["actionType","gift","user"]},"Action":{"type":"object","properties":{"actionType":{"type":"string","enum":["send","buy","receive"]},"gift":{"$ref":"#/components/schemas/Gift"},"user":{"$ref":"#/components/schemas/User"},"recipient":{"$ref":"#/components/schemas/User"},"timestamp":{"format":"date-time","type":"string"}},"required":["actionType","user","timestamp"]},"CreateInvoiceDto":{"type":"object","properties":{"gift":{"type":"string"}},"required":["gift"]}}}}